{"version":3,"sources":["TopPage.js","ChoroplethMap.js","App.js","index.js"],"names":["Tops","className","class","href","type","ChoroplethMap","features","datas","Jsondata","nowEra","nowWeight","now","nowClass","useState","Era","setEra","Weight","setWeight","Now","setNow","Class","setClass","projection","d3","scale","center","path","calcR","domain","feature","properties","value","range","weight","isNaN","Number","getColor","data","index","落下日","indexOf","year","slice","circleStyle1","stroke","strokeWidth","opacity","circleStyle2","getStyle","width","height","map","i","key","d","fill","x","経度","緯度","y","style","cx","cy","r","ClassificationBox","props","onChange","event","target","EraBox","console","log","NowBox","WeightBox","Circle","transform","fontSize","textAnchor","ChoroplethMapPage","setFeatures","useEffect","a","fetch","process","res","json","topojson","objects","japan","TabLink","to","children","exact","match","color","App","component","TopPage","render","document","querySelector"],"mappings":"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","file":"static/js/main.2f843db5.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nconst Tops = () => {\r\n  return (\r\n    <body>\r\n      <div>\r\n        <div className=\"container\">\r\n          <br></br>\r\n          <article class=\"message is-dark\">\r\n            <section className=\"section\">\r\n              <div class=\"message-header\">\r\n                <p>このサイトについて</p>\r\n              </div>\r\n              <div class=\"message-body\">\r\n                このサイトは、日本に落ちた隕石のオープンデータを用い、日本地図上に実際に落ちた場所を描画し、可視化したサイトである。上記のMAPタブに2020年9月2日現在までのデータが示されている。\r\n                <br></br>使用したデータ⇨\r\n                <a href=\"https://www.kahaku.go.jp/research/db/science_engineering/inseki/inseki_list.html\">\r\n                  https://www.kahaku.go.jp/research/db/science_engineering/inseki/inseki_list.html\r\n                </a>\r\n              </div>\r\n            </section>\r\n          </article>\r\n          <article class=\"message is-dark\">\r\n            <section className=\"section\">\r\n              <div class=\"message-header\">\r\n                <p>隕石ページの描画</p>\r\n              </div>\r\n              <div class=\"message-body\">\r\n                過去861年から現在に至るまでの日本に落ちた隕石の位置を描画している.隕石一つ一つのデータがjsonファイルに格納されており,内訳は\r\n                <strong>\r\n                  名前,落下場所,年月日,種類,総重量 (kg),個数,緯度,経度\r\n                </strong>\r\n                である.その中で使用するデータは\r\n                <div class=\"content\">\r\n                  <ol type=\"1\">\r\n                    <li>年</li>\r\n                    <li>総重量</li>\r\n                    <li>緯度</li>\r\n                    <li>経度</li>\r\n                  </ol>\r\n                </div>\r\n                の四つである.それぞれどのように反映させているかというと,年のデータでまとまった年代ごとの色分けを行う.緯度,経度の数値を日本地図上に反映し,隕石が落ちた場所を円の中心とするようにする.日本地図がすでに実際の緯度経度が反映されて描かれているので位置は正確に描画される.そして円の大きさを総重量の値によって決める.\r\n              </div>\r\n            </section>\r\n          </article>\r\n\r\n          <article class=\"message is-dark\">\r\n            <section className=\"section\">\r\n              <div class=\"message-header\">\r\n                <p>可視化により</p>\r\n              </div>\r\n              <div class=\"message-body\">\r\n                この可視化は日本のどこに,いつ,どれくらいの規模の隕石が落ちたかを明確に視認することができる.上記の三条件を見やすく表現するには,今回のような日本地図上での円の描画が一番最適だと判断した。事実上記の三条件がこの図ならば明確に把握できる.この図を見ることによって,例えるならば本州には満遍なく隕石が落ちているのに対し,北海道はその面積に対し1つしか落ちていないことや,2000年に入ってからまだ3つしか隕石が落ちていないなどの情報が一目で読み取ることができる.\r\n              </div>\r\n            </section>\r\n          </article>\r\n        </div>\r\n      </div>\r\n    </body>\r\n  );\r\n};\r\n\r\nexport default Tops;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport * as topojson from \"topojson\";\r\nimport Jsondata from \"./insekioutput.json\";\r\n\r\nconst ChoroplethMap = ({ features }) => {\r\n  const width = 1060;\r\n  const height = 800;\r\n  const standardScale = 2000;\r\n  const datas = Jsondata;\r\n  let nowEra = [\"#00ffff\", \"#00ff00\", \"#ffff00\", \"red\", \"0\"];\r\n  let nowWeight = [\"10\", \"20\", \"30\", \"?\", \"0\"];\r\n  let now = [\"1\", \"2\"];\r\n  let nowClass = [\"0\", \"石質隕石\", \"鉄隕石\"];\r\n\r\n  const [Era, setEra] = useState(4); //年代\r\n  const [Weight, setWeight] = useState(4); //総重量\r\n  const [Now, setNow] = useState(1); //総重量\r\n  const [Class, setClass] = useState(0); //分類\r\n  const projection = d3\r\n    .geoMercator()\r\n    .scale(standardScale)\r\n    .center([139.69167, 42.68944]);\r\n  const path = d3.geoPath().projection(projection);\r\n\r\n  const color = d3\r\n    .scaleLinear()\r\n    .domain(d3.extent(features, (feature) => feature.properties.value))\r\n\r\n    .range([\"#ccc\", \"#f00\"]);\r\n  const calcR = (weight) => {\r\n    if (isNaN(Number(weight))) {\r\n      return \"?\";\r\n    }\r\n    if (weight <= 0.5) {\r\n      return \"10\";\r\n    } else if (weight <= 1) {\r\n      return \"20\";\r\n    }\r\n    return \"30\";\r\n  };\r\n\r\n  const getColor = (data) => {\r\n    let index = data.落下日.indexOf(\"年\");\r\n    let year = Number(data.落下日.slice(0, index));\r\n\r\n    if (year > 2000) {\r\n      return \"red\";\r\n    } else if (year >= 1900) {\r\n      return \"#ffff00\";\r\n    } else if (year >= 1800) {\r\n      return \"#00ff00\";\r\n    } else {\r\n      return \"#00ffff\";\r\n    }\r\n  };\r\n\r\n  const circleStyle1 = {\r\n    stroke: \"black\",\r\n    strokeWidth: \"2.0px\",\r\n    opacity: \"0.8\",\r\n  };\r\n  const circleStyle2 = {\r\n    stroke: \"gray\",\r\n    strokeWidth: \"2.0px\",\r\n    opacity: \"0.8\",\r\n  };\r\n  const getStyle = (data) => {\r\n    if (data[\"分類\"] === \"石質隕石\") {\r\n      return circleStyle1;\r\n    } else {\r\n      return circleStyle2;\r\n    }\r\n  };\r\n\r\n  const stroke = {\r\n    stroke: \"white\",\r\n    strokeWidth: \"10.0px\",\r\n  };\r\n\r\n  return (\r\n    <body>\r\n      <div className=\"container\">\r\n        <div className=\"columns\">\r\n          <div className=\"column  is-one-fifth\">\r\n            <section className=\"section\">\r\n              <Circle />\r\n              <NowBox setNow={(Now, setNow)} />\r\n              <EraBox setEra={(Era, setEra)} />\r\n              <WeightBox setWeight={(Weight, setWeight)} />\r\n              <ClassificationBox setClass={(Class, setClass)} />\r\n            </section>\r\n          </div>\r\n          <div className=\"column\">\r\n            <svg width={width} height={height}>\r\n              <g>\r\n                {features.map((feature, i) => (\r\n                  <path\r\n                    key={i}\r\n                    d={path(feature)}\r\n                    fill=\"#008000\"\r\n                    stroke=\"white\"\r\n                  />\r\n                ))}\r\n\r\n                {datas.map((data, i) => {\r\n                  const x = projection([data.経度, data.緯度])[0];\r\n                  const y = projection([data.経度, data.緯度])[1];\r\n                  if (now[Now] === \"1\") {\r\n                    //ここら辺は選択肢の条件付け\r\n                    //または\r\n\r\n                    if (\r\n                      nowWeight[Weight] === calcR(data[\"総重量 (kg)\"]) ||\r\n                      nowWeight[Weight] === \"0\" ||\r\n                      nowEra[Era] === getColor(data) ||\r\n                      nowEra[Era] === \"0\" ||\r\n                      nowClass[Class] === data[\"分類\"] ||\r\n                      nowClass[Class] === \"0\"\r\n                    ) {\r\n                      if (calcR(data[\"総重量 (kg)\"]) === \"?\") {\r\n                        return (\r\n                          <rect\r\n                            x={x - 10}\r\n                            y={y - 10}\r\n                            width=\"20\"\r\n                            height=\"20\"\r\n                            fill={getColor(data)}\r\n                            style={getStyle(data)}\r\n                          />\r\n                        );\r\n                      } else {\r\n                        return (\r\n                          <circle\r\n                            cx={x}\r\n                            cy={y}\r\n                            r={calcR(data[\"総重量 (kg)\"])}\r\n                            fill={getColor(data)}\r\n                            style={getStyle(data)}\r\n                          />\r\n                        );\r\n                      }\r\n                    }\r\n                  } else {\r\n                    if (\r\n                      (nowWeight[Weight] === calcR(data[\"総重量 (kg)\"]) ||\r\n                        nowWeight[Weight] === \"0\") &&\r\n                      (nowEra[Era] === getColor(data) || nowEra[Era] === \"0\") &&\r\n                      (nowClass[Class] === data[\"分類\"] ||\r\n                        nowClass[Class] === \"0\")\r\n                    ) {\r\n                      if (calcR(data[\"総重量 (kg)\"]) === \"?\") {\r\n                        return (\r\n                          <rect\r\n                            x={x - 10}\r\n                            y={y - 10}\r\n                            width=\"20\"\r\n                            height=\"20\"\r\n                            fill={getColor(data)}\r\n                            style={getStyle(data)}\r\n                          />\r\n                        );\r\n                      } else {\r\n                        return (\r\n                          <circle\r\n                            cx={x}\r\n                            cy={y}\r\n                            r={calcR(data[\"総重量 (kg)\"])}\r\n                            fill={getColor(data)}\r\n                            style={getStyle(data)}\r\n                          />\r\n                        );\r\n                      }\r\n                    }\r\n                  }\r\n                })}\r\n                {/* ここからは小さい点の描画 */}\r\n                {datas.map((data) => {\r\n                  const x = projection([data.経度, data.緯度])[0];\r\n                  const y = projection([data.経度, data.緯度])[1];\r\n                  if (now[Now] === \"1\") {\r\n                    //または\r\n\r\n                    if (\r\n                      nowWeight[Weight] === calcR(data[\"総重量 (kg)\"]) ||\r\n                      nowWeight[Weight] === \"0\" ||\r\n                      nowEra[Era] === getColor(data) ||\r\n                      nowEra[Era] === \"0\" ||\r\n                      nowClass[Class] === data[\"分類\"] ||\r\n                      nowClass[Class] === \"0\"\r\n                    ) {\r\n                      return <circle cx={x} cy={y} r=\"0.5\" fill=\"black\" />;\r\n                    }\r\n                  } else {\r\n                    //かつ\r\n\r\n                    if (\r\n                      (nowWeight[Weight] === calcR(data[\"総重量 (kg)\"]) ||\r\n                        nowWeight[Weight] === \"0\") &&\r\n                      (nowEra[Era] === getColor(data) || nowEra[Era] === \"0\") &&\r\n                      (nowClass[Class] === data[\"分類\"] ||\r\n                        nowClass[Class] === \"0\")\r\n                    ) {\r\n                      return <circle cx={x} cy={y} r=\"0.5\" fill=\"black\" />;\r\n                    }\r\n                  }\r\n                })}\r\n              </g>\r\n            </svg>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </body>\r\n  );\r\n};\r\n\r\nconst ClassificationBox = (props) => {\r\n  const change = (event) => {\r\n    props.setClass(event.target.value);\r\n  };\r\n  return (\r\n    <div class=\"field\">\r\n      <form>\r\n        <div class=\"select is-rounded\">\r\n          <select onChange={change}>\r\n            <option value=\"0\">分類の選択</option>\r\n            <option value=\"1\">石質隕石</option>\r\n            <option value=\"2\">鉄隕石</option>\r\n          </select>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst EraBox = (props) => {\r\n  console.log(props);\r\n  const change = (event) => {\r\n    props.setEra(event.target.value);\r\n  };\r\n  return (\r\n    <div class=\"field\">\r\n      <form>\r\n        <div class=\"select is-rounded\">\r\n          <select onChange={change}>\r\n            <option value=\"4\">年代の選択</option>\r\n            <option value=\"0\"> ~1800</option>\r\n            <option value=\"1\">1800~1900</option>\r\n            <option value=\"2\">1900~2000</option>\r\n            <option value=\"3\">2000~</option>\r\n          </select>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\nconst NowBox = (props) => {\r\n  console.log(props);\r\n  const change = (event) => {\r\n    props.setNow(event.target.value);\r\n  };\r\n  return (\r\n    <div class=\"field\">\r\n      <form>\r\n        <div class=\"select is-rounded\">\r\n          <select onChange={change}>\r\n            <option value=\"1\">かつ</option>\r\n            <option value=\"0\">または</option>\r\n          </select>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst WeightBox = (data) => {\r\n  const change = (event) => {\r\n    data.setWeight(event.target.value);\r\n  };\r\n  return (\r\n    <div class=\"field\">\r\n      <form>\r\n        <div class=\"select is-rounded\">\r\n          <select onChange={change}>\r\n            <option value=\"4\">総重量の選択</option>\r\n            <option value=\"0\"> ~0.5Kg</option>\r\n            <option value=\"1\">0.5~1.0kg</option>\r\n            <option value=\"2\">1kg~</option>\r\n            <option value=\"3\">???</option>\r\n          </select>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Circle = () => {\r\n  const width = 800;\r\n  const height = 200;\r\n  const circleStyle1 = {\r\n    stroke: \"black\",\r\n    strokeWidth: \"2.0px\",\r\n    opacity: \"0.8\",\r\n  };\r\n  const circleStyle2 = {\r\n    stroke: \"gray\",\r\n    strokeWidth: \"2.0px\",\r\n    opacity: \"0.8\",\r\n  };\r\n  return (\r\n    <svg width={width} height={height}>\r\n      <g transform=\"translate(50, 0)\">\r\n        <text x=\"0\" y=\"85\" fontSize=\"20\" textAnchor=\"middle\">\r\n          落ちた年\r\n        </text>\r\n        <circle cx=\"70\" cy=\"80\" r=\"10\" fill=\"#00FFFF\" opacity=\"0.8\" />\r\n        <text x=\"120\" y=\"85\" fontSize=\"20\" textAnchor=\"middle\">\r\n          :~1800\r\n        </text>\r\n        <circle cx=\"180\" cy=\"80\" r=\"10\" fill=\"#00FF00\" opacity=\"0.8\" />\r\n        <text x=\"250\" y=\"85\" fontSize=\"20\" textAnchor=\"middle\">\r\n          :1800~1900\r\n        </text>\r\n        <circle cx=\"330\" cy=\"80\" r=\"10\" fill=\"#FFFF00\" opacity=\"0.8\" />\r\n        <text x=\"400\" y=\"85\" fontSize=\"20\" textAnchor=\"middle\">\r\n          :1900~2000\r\n        </text>\r\n        <circle cx=\"480\" cy=\"80\" r=\"10\" fill=\"red\" opacity=\"0.8\" />\r\n        <text x=\"530\" y=\"85\" fontSize=\"20\" textAnchor=\"middle\">\r\n          :2000~\r\n        </text>\r\n      </g>\r\n      <g transform=\"translate(50, 50)\">\r\n        <text x=\"0\" y=\"85\" fontSize=\"20\" textAnchor=\"middle\">\r\n          総重量\r\n        </text>\r\n        <circle cx=\"70\" cy=\"80\" r=\"10\" opacity=\"0.8\" />\r\n        <text x=\"120\" y=\"85\" fontSize=\"20\" textAnchor=\"middle\">\r\n          :~0.5Kg\r\n        </text>\r\n        <circle cx=\"190\" cy=\"80\" r=\"20\" opacity=\"0.8\" />\r\n        <text x=\"260\" y=\"85\" fontSize=\"20\" textAnchor=\"middle\">\r\n          :0.5~ 1Kg\r\n        </text>\r\n        <circle cx=\"352\" cy=\"80\" r=\"30\" opacity=\"0.8\" />\r\n        <text x=\"420\" y=\"85\" fontSize=\"20\" textAnchor=\"middle\">\r\n          :1Kg~\r\n        </text>\r\n        <rect x=\"470\" y=\"70\" width=\"20\" height=\"20\" />\r\n        <text x=\"530\" y=\"85\" fontSize=\"20\" textAnchor=\"middle\">\r\n          :　???\r\n        </text>\r\n      </g>\r\n      <g transform=\"translate(50, 100)\">\r\n        <text x=\"0\" y=\"85\" fontSize=\"20\" textAnchor=\"middle\">\r\n          分類\r\n        </text>\r\n        <circle\r\n          cx=\"70\"\r\n          cy=\"80\"\r\n          r=\"10\"\r\n          opacity=\"0.8\"\r\n          fill=\"red\"\r\n          style={circleStyle1}\r\n        />\r\n        <text x=\"130\" y=\"90\" fontSize=\"20\" textAnchor=\"middle\">\r\n          石鉄隕石\r\n        </text>\r\n        <circle\r\n          cx=\"200\"\r\n          cy=\"80\"\r\n          r=\"10\"\r\n          opacity=\"0.8\"\r\n          fill=\"red\"\r\n          style={circleStyle2}\r\n        />\r\n        <text x=\"260\" y=\"85\" fontSize=\"20\" textAnchor=\"middle\">\r\n          鉄隕石\r\n        </text>\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport const ChoroplethMapPage = () => {\r\n  const [features, setFeatures] = useState(null);\r\n  useEffect(() => {\r\n    (async () => {\r\n      const res = await fetch(`${process.env.PUBLIC_URL}/data/japan.json`);\r\n      const data = await res.json();\r\n      const { features } = topojson.feature(data, data.objects.japan);\r\n      setFeatures(features);\r\n    })();\r\n  }, []);\r\n\r\n  if (features == null) {\r\n    return <p>loading</p>;\r\n  }\r\n  return <ChoroplethMap features={features} />;\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport { HashRouter as Router, Route, Link } from \"react-router-dom\";\r\n\r\n// import * as d3 from \"d3\";\r\n// import * as topojson from \"topojson\";\r\nimport TopPage from \"./TopPage\";\r\nimport { ChoroplethMapPage } from \"./ChoroplethMap\";\r\n\r\nconst TabLink = ({ to, children, exact }) => (\r\n  <Route\r\n    path={to}\r\n    exact={exact}\r\n    children={({ match }) => {\r\n      return (\r\n        <li className={match ? \"is-active\" : \"\"}>\r\n          <Link to={to} style={{ color: match ? \"rgb(32,88,90)\" : \"white\" }}>\r\n            {children}\r\n          </Link>\r\n        </li>\r\n      );\r\n    }}\r\n  />\r\n);\r\n\r\nconst App = () => {\r\n  return (\r\n    <Router>\r\n      <body>\r\n        <section className=\"hero is-primary\">\r\n          <div className=\"hero-body\">\r\n            <h1 className=\"title\">JapaneseMeteorite Map</h1>\r\n          </div>\r\n\r\n          <div className=\"hero-foot\">\r\n            <nav className=\"tabs is- is-fullwidth\">\r\n              <div className=\"container\">\r\n                <ul>\r\n                  <TabLink to=\"/\" exact>\r\n                    TOP\r\n                  </TabLink>\r\n                  <TabLink to=\"/ChoroplethMap\">MAP</TabLink>\r\n                </ul>\r\n              </div>\r\n            </nav>\r\n          </div>\r\n        </section>\r\n\r\n        <div>\r\n          <Route exact path=\"/\" component={TopPage} />\r\n          <Route path=\"/ChoroplethMap\" component={ChoroplethMapPage} />\r\n        </div>\r\n      </body>\r\n      <br></br>\r\n      <footer className=\"footer\">\r\n        <div className=\"content has-text-centered\">\r\n          <p>&copy; team-2020-a</p>\r\n        </div>\r\n      </footer>\r\n    </Router>\r\n  );\r\n};\r\n\r\n// const Aa = () => {\r\n//   return (\r\n//     <div>\r\n//       <section class=\"section\">\r\n//         <div class=\"container\">\r\n//           <h1 class=\"title\">Section</h1>\r\n//           <h2 class=\"subtitle\">\r\n//             A simple container to divide your page into{\" \"}\r\n//             <strong>sections</strong>, like the one you're currently reading\r\n//           </h2>\r\n//         </div>\r\n//       </section>\r\n//     </div>\r\n//   );\r\n// };\r\n// const Footer = () => {\r\n//   return (\r\n//     <footer class=\"footer\">\r\n//       <div class=\"content has-text-centered\">\r\n//         <p>\r\n//           <strong>Bulma</strong> by{\" \"}\r\n//           <a href=\"https://jgthms.com\">Jeremy Thomas</a>. The source code is\r\n//           licensed\r\n//           <a href=\"http://opensource.org/licenses/mit-license.php\">MIT</a>. The\r\n//           website content is licensed{\" \"}\r\n//           <a href=\"http://creativecommons.org/licenses/by-nc-sa/4.0/\">\r\n//             CC BY NC SA 4.0\r\n//           </a>\r\n//           .\r\n//         </p>\r\n//       </div>\r\n//     </footer>\r\n//   );\r\n// };\r\n\r\nexport default App;\r\n","import React from \"react\";\r\n\r\n// import ReactDOM from \"react-dom\";\r\nimport { render } from \"react-dom\";\r\nimport App from \"./App\";\r\nimport \"bulma/css/bulma.css\";\r\n\r\nrender(<App />, document.querySelector(\"#content\"));\r\n"],"sourceRoot":""}